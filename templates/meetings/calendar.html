{% extends 'dashboard/base.html' %}
{% load static %}

{% block title_block %}
Meeting Calendar
{% endblock %}

{% block body_block %}
    <h1>Meeting Calendar</h1>
    <div id="calendar"></div>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.2.0/fullcalendar.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.1/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.2.0/fullcalendar.min.js"></script>

    <script>
        $(document).ready(function() {
            $('#calendar').fullCalendar({
                events: "{% url 'meetings:get_meetings' %}", 
                eventClick: function(event) {
                    alert('Meeting: ' + event.title + 
                          '\nDate: ' + event.start.format('YYYY-MM-DD HH:mm') +
                          '\nLocation: ' + (event.location || 'No location'));
                }
            });
        });
    </script>
{% endblock %}
